#openssl req -subj '/CN=localhost' -x509 -newkey rsa:4096 -nodes -keyout key.pem -out cert.pem -days 365
worker_processes 1;

events { worker_connections 1024; }

http {
    server {
        listen 443 ssl;
        ssl_certificate /etc/nginx/conf.d/cert.pem;
        ssl_certificate_key /etc/nginx/conf.d/key.pem;
        location / {
        proxy_pass http://cpz-events-logger:80/;    
        }
        # location /marketwatcher/ {
        # proxy_pass http://cpz-marketwatcher:80/;
        # }
        # location /candlebatcher/ {
        # proxy_pass http://cpz-candlebatcher:80/;
        # }
        # location /adviser/ {
        #     proxy_pass http://cpz-adviser:80/;
        # }
        # location /postgraphile/ {
        #     proxy_pass http://cpz-postgraphile:80/;
        # }
        # location /trader/ {
        #     proxy_pass http://cpz-trader:80/;
        # }   
        # location /ccxt/ {
        #     proxy_pass http://cpz-connector-ccxt:80/;
        # }   
    }
}

