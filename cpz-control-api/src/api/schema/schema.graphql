# import { MarketwatcherSubscription, MarketwatcherParams, MarketwatcherSubParams } from "src/api/schema/marketwatcher.graphql"
# import { CandlebatcherParams, CandlebatcherUpdateParams  } from "src/api/schema/candlebatcher.graphql"
# import { ImporterParams } from "src/api/schema/importer.graphql"
# import { AdviserParams, AdviserUpdateParams } from "src/api/schema/adviser.graphql"
# import { TraderParams, TraderUpdateParams } from "src/api/schema/trader.graphql"
# import { BacktesterParams } from "src/api/schema/backtester.graphql"
# import { CandlebatcherSettings, AdviserSettings, TraderSettings, BacktesterSettings } from "src/api/schema/settings.graphql" 
# import { ExWatcherParams } from "src/api/schema/exwatcher.graphql"

scalar Datetime
scalar JSON

type Query {
    ping: String
  }

type Mutation {
    # Marketwatcher
    startMarketwatcher(params: MarketwatcherParams!): ServiceRunnerResponse!
    stopMarketwatcher(taskId: String!): ServiceRunnerResponse!
    subscribeMarketwatcher(params: MarketwatcherSubParams!): Response!
    unsubscribeMarketwatcher(params: MarketwatcherSubParams!): Response!
    # Candlebatcher
    startCandlebatcher(params: CandlebatcherParams!): ServiceRunnerResponse!
    stopCandlebatcher(taskId: String!): ServiceRunnerResponse!
    updateCandlebatcher(params: CandlebatcherUpdateParams!): Response!
    # Importer 
    startImporter(params: ImporterParams!): ServiceRunnerResponse!
    stopImporter(taskId: String!): ServiceRunnerResponse!
    # Adviser
    startAdviser(params: AdviserParams!): ServiceRunnerResponse!
    stopAdviser(taskId: String!): ServiceRunnerResponse!
    updateAdviser(params: AdviserUpdateParams!): Response!
    # Trader
    startTrader(params: TraderParams!): ServiceRunnerResponse!
    stopTrader(taskId: String!): ServiceRunnerResponse!
    updateTrader(params: TraderUpdateParams!): Response!
    # Backtester 
    startBacktester(params: BacktesterParams!): ServiceRunnerResponse!
    stopBacktester(taskId: String!): ServiceRunnerResponse!
    # Exchange Data Watcher
    startExWatcher(params: ExWatcherParams!): ServiceRunnerResponse!
    stopExWatcher(taskId: String!): ServiceRunnerResponse!
    updateExWatcher(taskId: String!, params: CandlebatcherUpdateParams!): Response!
    # UserRobot
    startUserRobot(userRobotId: String!): ServiceRunnerResponse!
    stopUserRobot(userRobotId: String!): ServiceRunnerResponse!
    updateUserRobot(userRobotId: String!, params: TraderUpdateParams!): Response!
}

type Error {
    name: String!
    message: String!
    info: JSON
}

type Response {
    success: Boolean!
    error: Error
}

type ServiceRunnerResponse {
    success: Boolean!
    error: Error
    taskId: ID
    status: String
}
